# 수면패턴 분석 홈페이지
 https://www.youtube.com/watch?v=G243S3lym1o&feature=youtu.be
![image](https://user-images.githubusercontent.com/57423518/101724467-024c8d00-3af2-11eb-84fd-73ccd4dffc44.png)
![image](https://user-images.githubusercontent.com/57423518/101724564-3a53d000-3af2-11eb-8677-87da941b9ed4.png)
![image](https://user-images.githubusercontent.com/57423518/101724574-3fb11a80-3af2-11eb-8130-3ee0a46d4b86.png)


## 프로젝트 취지
한국 생산성본부에서 주관하는 창직 프로젝트에서 우리팀은 수면 습관을 형성시켜 불면증을 극복하느 프로그램을 만들었다. 이 과정에서 매일마다 사용자에게 제공되는 수면습관 솔루션과 주어진 솔루션을 잘 수행하였는지 체크를 하고 이를 기록하여 습관이 잘 형성되고 있는지를 판단하는 웹과 어플을 만들었다. 

0.	사용자가 수면 습관 형성 서비스를 받아야되는지 피츠버그 진단을 진행한다.

1. 수면패턴관리사 웹 버전에서는 담당 관리사가 사용자에게 적합한 솔루션을 넣어주면 해당 사용자의 어플로 넣어준 솔루션이 전송된다. 

2. 사용자가 전달 받은 솔루션을 수행하고 체크를하면 그 데이터를 웹에서 술루션 수행 및 미수행을 기록한다. 

3. 사용자가 본인의 수면 습관 형성 정도를 체크하여 웹으로 데이터를 전송한다. 관리사가 해당 데이터를 보고 기록하여 데이터를 누적시켜 그래프를 그려 분석한다.

4. 사용자가 어플에서 원하는 상담 날짜를 신청을하면 관리자가 해당하는 날짜가 가능하다면 수락하여 예약을 수락한다. 



## 영상보기

https://youtu.be/G243S3lym1o

## 사용한 툴 및 만든방법

기반은 html과 javaScript와 jQuery를 사용하여 작업하였다.

템플릿은 BootStrap을 사용하였다. 

서버는 flask를 사용하였고 

디비는 MongoDB와 Firebase를 사용하였다.

배포는 아마존의 EC2를 사용하였다. 

도메인 이름 수정은 가비아에서 작업하였다.

홈페이지의 전체적인 틀은 부트스트랩에서 가져왔고 우리 수면에 맞는 테마로 필요한 부분을 수정하여 사용하였다. 기반은 html로 작성하였고 jQuery를 사용하여 동작을 구현하였다. 서버는 flask를 사용하였고 flask에서 MongoDB를 연결하였다. 관리자라면 DB에 접근할수있게 권한을 줘 DB수정을 가능하게 하였다. 어플과 연동을 위해 Firebase DB를 사용하였다. 


## 어려웠던 점

무수히 많은 문제가 있었지만 가장 힘들었던 문제는 flask 서버에서 MongoDB와 Firebase DB를 모두 불러 이 두 db르 연동시키는것이 가장 힘들었고 문제가 많았다. 우리는 많은 시간을 투자하여 어떤부분에서 오류가 발생하고 어떻게 연결을 해야하는지 연구하였지만 2015년 기준으로 flask에서 firebase의 지원이 중단됬다는 결론에 도달하였다. 그래서 결국 한개의 서버에서 2개의 디비를 연동시키것은 실패하였지만 우리는 결론을 도출하기 전까지 MongoDB 홈페이지의 문서를 읽어가며 연결하는 법을 공부하고 Firebase 튜토리얼 문서를 공부하였고 한개의 서버에서 여러개의 디비를 연결하면 어떻게 작동하고 연결을 어떤식으로 연결을해야하는지를 알게 되었다. 또한 flask를 사용하지 않고 Firebase 서버를 사용하여 웹을 만드는 방법을 학습 할 수 있는 좋은 기회를 얻었다. 비록 초기 원하는 바를 달성하지 못했지만 이러한 삽질을 통해서 많은 공부가 되었다.  

## 후기

 이번 프로젝트는 지금까지와는 다르게 협업을하여 개발하였다. 
나는 협업이라는것이 이렇게 힘들줄 몰랐다. 협업을 경험하기전에 협업을 한다면 보다 원활하게 개발을 할줄알았지만 그것은 나의 착각이였다. 다른 동료와 의견충돌도 많았고 git을 사용하는것이 서툴러 맘대로 push했다가 코드리뷰를 처음부터 다시하여 시간낭비도 많았다. 하지만 이를통해서 팀원과 소통하는 방법을 배우고 자기 의사를 부드럽게 표현하는 방법등 코딩 외적인 부분을 많이 배웠다. 

 2월부터 시작하여 10월 중순에 마무리한 처음해본 중장기 프로젝트였고 새로 배워 적용한 부분도 상당하여 체력적으로 정신적으로도 많이 힘들었다. 이를 통해 시간에 쫒기기도 하였고 알수없는 오류가 발생하여 어디부터 수정해야할지 막막하기도 하였다. 이를 천천히 극복하면서 정말 많은 부분에서 성장을 하였는데 특히 현재 내가 무엇을 모르는지 어떤 정보가 필요한지를 인지하고 그 정보를 찾는 능력이 가장 많이 성장한것 같다.
 
## 다음 프로젝트 계획

이번 프로젝트를 진행하면서 React라는 라이브러리를 알게되었는데 궁금해서 찾아보니 참 재미있는 라이브러리인것 같아 알아보고 싶어졌다. 다음번 프로젝트는 react로 하는것으로 정하고 길었던 프로젝트르 마루리한다. 

## 링크
git: https://github.com/DongHyunKIM-Hi/SleepPattern
웹 주소: http://15.164.163.148/
 
